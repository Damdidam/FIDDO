<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#0891B2">
  <title>FIDDO — Maintenance</title>
  <link href="https://api.fontshare.com/v2/css?f[]=satoshi@500,700,800&display=swap" rel="stylesheet">
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:'Satoshi',-apple-system,BlinkMacSystemFont,sans-serif;background:linear-gradient(160deg,#060810 0%,#0a1a24 40%,#0e7490 100%);min-height:100vh;min-height:100dvh;display:flex;align-items:center;justify-content:center;padding:24px;overflow:hidden}
    .orb{position:fixed;border-radius:50%;filter:blur(80px);opacity:.25;pointer-events:none}
    .orb-1{width:300px;height:300px;background:radial-gradient(circle,#22d3ee,transparent 70%);top:-80px;right:-60px;animation:drift 10s ease-in-out infinite}
    .orb-2{width:240px;height:240px;background:radial-gradient(circle,#0891B2,transparent 70%);bottom:5%;left:-50px;animation:drift 10s ease-in-out infinite 3s}
    @keyframes drift{0%,100%{transform:translate(0,0) scale(1)}50%{transform:translate(20px,-25px) scale(1.06)}}

    .card{position:relative;z-index:1;background:rgba(255,255,255,.07);backdrop-filter:blur(24px);-webkit-backdrop-filter:blur(24px);border:1.5px solid rgba(255,255,255,.1);border-radius:28px;padding:48px 32px 40px;max-width:420px;width:100%;text-align:center}

    .logo{font-size:28px;font-weight:800;color:#0891B2;letter-spacing:1px;margin-bottom:28px}

    .icon-wrap{width:72px;height:72px;border-radius:50%;background:rgba(8,145,178,.12);display:flex;align-items:center;justify-content:center;margin:0 auto 20px}
    .icon-wrap svg{color:#22d3ee}

    h1{font-size:22px;font-weight:800;color:#fff;margin-bottom:6px;line-height:1.3}
    .sub{font-size:14px;color:rgba(255,255,255,.55);line-height:1.6;margin-bottom:28px}

    .status{display:flex;align-items:center;gap:8px;justify-content:center;padding:12px 20px;background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.08);border-radius:12px;margin-bottom:24px}
    .pulse{width:8px;height:8px;border-radius:50%;background:#22d3ee;animation:pulse 2s ease-in-out infinite}
    @keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.4;transform:scale(.85)}}
    .status span{font-size:13px;color:rgba(255,255,255,.5);font-weight:500}

    .btn{display:inline-flex;align-items:center;gap:8px;padding:14px 28px;background:linear-gradient(135deg,#0891B2,#0e7490);color:#fff;font-size:15px;font-weight:700;border-radius:14px;border:none;cursor:pointer;font-family:inherit;box-shadow:0 4px 20px rgba(8,145,178,.3);transition:transform .15s,box-shadow .15s}
    .btn:hover{transform:translateY(-2px);box-shadow:0 6px 28px rgba(8,145,178,.4)}
    .btn:active{transform:scale(.97)}
    .btn svg{width:18px;height:18px}

    .hint{margin-top:20px;font-size:12px;color:rgba(255,255,255,.25)}
    .hint a{color:rgba(255,255,255,.4);text-decoration:none}
    .hint a:hover{color:rgba(255,255,255,.6)}

    @media(max-width:480px){
      .card{padding:36px 24px 32px;border-radius:24px}
      h1{font-size:20px}
    }
  </style>
</head>
<body>
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>

  <div class="card">
    <div class="logo">FIDDO</div>

    <div class="icon-wrap">
      <svg width="36" height="36" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
        <path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"/>
        <path d="M12 8v4"/>
        <path d="M12 16h.01"/>
      </svg>
    </div>

    <h1>On revient tout de suite</h1>
    <p class="sub">Le serveur FIDDO est momentanément indisponible. Cela ne dure généralement que quelques secondes.</p>

    <div class="status">
      <div class="pulse"></div>
      <span>Reconnexion automatique en cours...</span>
    </div>

    <button class="btn" onclick="location.reload()">
      <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"/><path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/></svg>
      Réessayer
    </button>

    <p class="hint">Si le problème persiste, contactez <a href="mailto:support@fiddo.be">support@fiddo.be</a></p>
  </div>

  <script>
    // Auto-retry every 8 seconds
    var retryCount = 0;
    var maxRetries = 30;
    function autoRetry() {
      if (retryCount >= maxRetries) return;
      retryCount++;
      fetch('/app/', { method: 'HEAD', cache: 'no-store' })
        .then(function(r) {
          if (r.ok) window.location.reload();
          else setTimeout(autoRetry, 8000);
        })
        .catch(function() {
          setTimeout(autoRetry, 8000);
        });
    }
    setTimeout(autoRetry, 8000);
  </script>
</body>
</html>
